# YAML linting rules configuration
# Based on yamllint configuration standards

rules:
  # Colon spacing rules
  # Format: key: value
  colons:
    max-spaces-before: -1  # No spaces allowed before colon
    max-spaces-after: 1    # Maximum 1 space after colon

  # Comma spacing rules
  # Format: [item1, item2, item3]
  commas:
    max-spaces-before: -1  # No spaces allowed before comma
    min-spaces-after: 1    # Minimum 1 space after comma
    max-spaces-after: 1    # Maximum 1 space after comma

  # Comment rules
  comments: false        # Disable comment content validation
  comments-indentation: false  # Disable comment indentation validation

  # Document start rule
  document-start: disable  # Disable requirement for document start marker

  # Empty lines rules
  empty-lines:
    max: 2                 # Maximum 2 consecutive empty lines
    max-start: 0           # No empty lines at start of file
    max-end: 0             # No empty lines at end of file

  # Hyphen spacing rules (for list items)
  # Format: - item
  hyphens:
    max-spaces-after: 1    # Maximum 1 space after hyphen

  # Indentation rules
  indentation:
    spaces: consistent     # Use consistent indentation style
    indent-sequences: true # Indent sequence elements
    check-multi-line-strings: false  # Don't check multi-line string indentation

  # Key duplication validation
  key-duplicates: enable   # Enable duplicate key detection

  # Line length rules
  line-length:
    max: 150               # Maximum line length 150 characters
    allow-non-breakable-words: true  # Allow long unbreakable words
    allow-non-breakable-inline-mappings: false  # Don't allow long inline mappings

  # File ending rules
  new-line-at-end-of-file: enable  # Disable requirement for newline at EOF

  # Trailing spaces validation
  trailing-spaces: enable  # Enable trailing spaces detection

  # Truthy values validation
  truthy:
    allowed-values: ['true', 'false']  # Only allow these boolean values
    check-keys: false      # Don't check key names for truthy values

extends: default
# Ignore paths
ignore:
  # General charts ignore rules
  - charts/*/charts/ingress-nginx
  - charts/*/charts/fluentd
  - charts/*/charts/loki
  - charts/*/charts/reloader
  - charts/*/charts/prometheus
  - charts/*/charts/tempo
  - charts/*/charts/*/charts/ingress-nginx
  - charts/*/charts/*/charts/fluentd
  - charts/*/charts/*/charts/loki
  - charts/*/charts/*/charts/reloader
  - charts/*/charts/*/charts/prometheus
  - charts/*/charts/*/charts/tempo

  # Casdoor related ignores
  - charts/*/templates/casdoor/configmap.yaml
  - charts/*/templates/casdoor/secret.yaml
  - charts/*/charts/*/templates/casdoor/configmap.yaml
  - charts/*/charts/*/templates/casdoor/secret.yaml
  - charts/*/tests/casdoor_test.yaml

  # Runner related ignores
  - charts/*/charts/runner/templates/configmap-*.yaml
  - charts/*/charts/runner/templates/secret.yaml
  - charts/runner/templates/configmap-*.yaml
  - charts/runner/templates/secret.yaml
